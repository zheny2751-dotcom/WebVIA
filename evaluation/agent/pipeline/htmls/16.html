<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>事件提醒 - 智能任务管理</title>
    <script src="https://cdn.jsdelivr.net/npm/react@18.0.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.0.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"></link>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        const EventReminder = () => {
            const [events, setEvents] = useState([
                {
                    id: '1',
                    title: '项目会议',
                    description: '讨论第三季度项目进展和下一步计划',
                    date: '2024-01-15',
                    priority: 'high',
                    status: 'pending',
                    createdAt: '2024-01-10T10:30:00Z'
                },
                {
                    id: '2', 
                    title: '客户回访',
                    description: '联系重要客户了解产品使用情况',
                    date: '2024-01-18',
                    priority: 'medium',
                    status: 'completed',
                    createdAt: '2024-01-08T14:20:00Z'
                },
                {
                    id: '3',
                    title: '代码审查',
                    description: '审查新功能模块的代码质量',
                    date: '2024-01-20',
                    priority: 'low',
                    status: 'pending',
                    createdAt: '2024-01-12T09:15:00Z'
                }
            ]);

            const [selectedEvent, setSelectedEvent] = useState(null);
            const [isEditModalOpen, setIsEditModalOpen] = useState(false);
            const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);
            const [editingEvent, setEditingEvent] = useState(null);
            const [deletingEventId, setDeletingEventId] = useState(null);
            const [searchKeyword, setSearchKeyword] = useState('');
            const [sortBy, setSortBy] = useState('date');
            
            const [newEvent, setNewEvent] = useState({
                title: '',
                description: '',
                date: '',
                priority: 'medium'
            });

            const getPriorityColor = (priority) => {
                switch(priority) {
                    case 'high': return 'bg-red-100 text-red-800 border-red-200';
                    case 'medium': return 'bg-yellow-100 text-yellow-800 border-yellow-200';
                    case 'low': return 'bg-green-100 text-green-800 border-green-200';
                    default: return 'bg-gray-100 text-gray-800 border-gray-200';
                }
            };

            const getPriorityText = (priority) => {
                switch(priority) {
                    case 'high': return '高优先级';
                    case 'medium': return '中优先级';
                    case 'low': return '低优先级';
                    default: return '未知';
                }
            };

            const getStatusText = (status) => {
                return status === 'completed' ? '已完成' : '未完成';
            };

            const filteredAndSortedEvents = useMemo(() => {
                let filtered = events.filter(event =>
                    event.title.toLowerCase().includes(searchKeyword.toLowerCase()) ||
                    event.description.toLowerCase().includes(searchKeyword.toLowerCase())
                );

                return filtered.sort((a, b) => {
                    switch(sortBy) {
                        case 'date':
                            return new Date(a.date) - new Date(b.date);
                        case 'priority':
                            const priorityOrder = { high: 3, medium: 2, low: 1 };
                            return priorityOrder[b.priority] - priorityOrder[a.priority];
                        case 'status':
                            return a.status.localeCompare(b.status);
                        default:
                            return 0;
                    }
                });
            }, [events, searchKeyword, sortBy]);

            const handleAddEvent = () => {
                if (!newEvent.title || !newEvent.date) {
                    alert('请填写完整的事件信息');
                    return;
                }

                const eventToAdd = {
                    id: Date.now().toString(),
                    ...newEvent,
                    status: 'pending',
                    createdAt: new Date().toISOString()
                };

                setEvents(prev => [...prev, eventToAdd]);
                setNewEvent({
                    title: '',
                    description: '',
                    date: '',
                    priority: 'medium'
                });
            };

            const handleEditEvent = (event) => {
                setEditingEvent({ ...event });
                setIsEditModalOpen(true);
            };

            const handleSaveEdit = () => {
                if (!editingEvent.title || !editingEvent.date) {
                    alert('请填写完整的事件信息');
                    return;
                }

                setEvents(prev => prev.map(event => 
                    event.id === editingEvent.id ? editingEvent : event
                ));
                setIsEditModalOpen(false);
                setEditingEvent(null);
            };

            const handleDeleteEvent = (eventId) => {
                setDeletingEventId(eventId);
                setIsDeleteModalOpen(true);
            };

            const confirmDelete = () => {
                setEvents(prev => prev.filter(event => event.id !== deletingEventId));
                setIsDeleteModalOpen(false);
                setDeletingEventId(null);
                if (selectedEvent && selectedEvent.id === deletingEventId) {
                    setSelectedEvent(null);
                }
            };

            const toggleEventStatus = (eventId) => {
                setEvents(prev => prev.map(event => 
                    event.id === eventId 
                        ? { ...event, status: event.status === 'completed' ? 'pending' : 'completed' }
                        : event
                ));
            };

            const handleEventClick = (event) => {
                setSelectedEvent(selectedEvent?.id === event.id ? null : event);
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100">
                    <nav className="bg-white shadow-lg border-b border-blue-100">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="flex justify-between items-center h-16">
                                <div className="flex items-center">
                                    <img 
                                        src="https://picsum.photos/id/26/40/40" 
                                        alt="Logo" 
                                        className="h-10 w-10 rounded-lg mr-3"
                                    />
                                    <h1 className="text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent">
                                        事件提醒
                                    </h1>
                                </div>
                                <div className="flex space-x-4">
                                    <button className="px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors">
                                        <i className="fas fa-home mr-2"></i>首页
                                    </button>
                                    <button className="px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors">
                                        <i className="fas fa-calendar mr-2"></i>日历
                                    </button>
                                    <button className="px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors">
                                        <i className="fas fa-cog mr-2"></i>设置
                                    </button>
                                </div>
                            </div>
                        </div>
                    </nav>

                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            <div className="lg:col-span-1">
                                <div className="bg-white rounded-xl shadow-lg p-6 mb-6">
                                    <h2 className="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                                        <i className="fas fa-plus-circle text-blue-600 mr-2"></i>
                                        添加新事件
                                    </h2>
                                    <div className="space-y-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">事件标题</label>
                                            <input
                                                type="text"
                                                value={newEvent.title}
                                                onChange={(e) => setNewEvent(prev => ({ ...prev, title: e.target.value }))}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                placeholder="输入事件标题"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">事件描述</label>
                                            <textarea
                                                value={newEvent.description}
                                                onChange={(e) => setNewEvent(prev => ({ ...prev, description: e.target.value }))}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                rows="3"
                                                placeholder="输入事件描述"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">日期</label>
                                            <input
                                                type="date"
                                                value={newEvent.date}
                                                onChange={(e) => setNewEvent(prev => ({ ...prev, date: e.target.value }))}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">优先级</label>
                                            <select
                                                value={newEvent.priority}
                                                onChange={(e) => setNewEvent(prev => ({ ...prev, priority: e.target.value }))}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                            >
                                                <option value="high">高优先级</option>
                                                <option value="medium">中优先级</option>
                                                <option value="low">低优先级</option>
                                            </select>
                                        </div>
                                        <button
                                            onClick={handleAddEvent}
                                            className="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-2 px-4 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:scale-105"
                                        >
                                            <i className="fas fa-plus mr-2"></i>
                                            添加事件
                                        </button>
                                    </div>
                                </div>

                                <div className="bg-white rounded-xl shadow-lg p-6">
                                    <h3 className="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                                        <i className="fas fa-filter text-blue-600 mr-2"></i>
                                        筛选与排序
                                    </h3>
                                    <div className="space-y-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">搜索关键词</label>
                                            <input
                                                type="text"
                                                value={searchKeyword}
                                                onChange={(e) => setSearchKeyword(e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                placeholder="搜索事件..."
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">排序方式</label>
                                            <select
                                                value={sortBy}
                                                onChange={(e) => setSortBy(e.target.value)}
                                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                            >
                                                <option value="date">按日期排序</option>
                                                <option value="priority">按优先级排序</option>
                                                <option value="status">按状态排序</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div className="lg:col-span-2">
                                <div className="bg-white rounded-xl shadow-lg p-6">
                                    <div className="flex items-center justify-between mb-6">
                                        <h2 className="text-xl font-semibold text-gray-800 flex items-center">
                                            <i className="fas fa-list-ul text-blue-600 mr-2"></i>
                                            事件列表
                                        </h2>
                                        <span className="text-sm text-gray-500">
                                            共 {filteredAndSortedEvents.length} 个事件
                                        </span>
                                    </div>

                                    {filteredAndSortedEvents.length === 0 ? (
                                        <div className="text-center py-12">
                                            <img 
                                                src="https://picsum.photos/id/28/200/150" 
                                                alt="Empty state" 
                                                className="mx-auto mb-4 rounded-lg opacity-50"
                                            />
                                            <p className="text-gray-500 text-lg">暂无事件</p>
                                            <p className="text-gray-400 text-sm mt-2">开始添加您的第一个事件吧！</p>
                                        </div>
                                    ) : (
                                        <div className="space-y-4">
                                            {filteredAndSortedEvents.map(event => (
                                                <div key={event.id} className={`border rounded-lg p-4 transition-all hover:shadow-md ${
                                                    event.status === 'completed' ? 'bg-gray-50 border-gray-200' : 'bg-white border-blue-200'
                                                }`}>
                                                    <div className="flex items-start justify-between">
                                                        <div className="flex-1">
                                                            <div className="flex items-center mb-2">
                                                                <input
                                                                    type="checkbox"
                                                                    checked={event.status === 'completed'}
                                                                    onChange={() => toggleEventStatus(event.id)}
                                                                    className="mr-3 h-4 w-4 text-blue-600 rounded focus:ring-blue-500"
                                                                />
                                                                <h3 
                                                                    onClick={() => handleEventClick(event)}
                                                                    className={`text-lg font-medium cursor-pointer hover:text-blue-600 transition-colors ${
                                                                        event.status === 'completed' ? 'line-through text-gray-500' : 'text-gray-800'
                                                                    }`}
                                                                >
                                                                    {event.title}
                                                                </h3>
                                                            </div>
                                                            <div className="flex items-center space-x-4 text-sm">
                                                                <span className="flex items-center text-gray-600">
                                                                    <i className="fas fa-calendar mr-1"></i>
                                                                    {event.date}
                                                                </span>
                                                                <span className={`px-2 py-1 rounded-full text-xs border ${getPriorityColor(event.priority)}`}>
                                                                    {getPriorityText(event.priority)}
                                                                </span>
                                                                <span className={`px-2 py-1 rounded-full text-xs ${
                                                                    event.status === 'completed' 
                                                                        ? 'bg-green-100 text-green-800' 
                                                                        : 'bg-orange-100 text-orange-800'
                                                                }`}>
                                                                    {getStatusText(event.status)}
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <div className="flex space-x-2 ml-4">
                                                            <button
                                                                onClick={() => handleEditEvent(event)}
                                                                className="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors"
                                                            >
                                                                <i className="fas fa-edit"></i>
                                                            </button>
                                                            <button
                                                                onClick={() => handleDeleteEvent(event.id)}
                                                                className="p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors"
                                                            >
                                                                <i className="fas fa-trash"></i>
                                                            </button>
                                                        </div>
                                                    </div>

                                                    {selectedEvent?.id === event.id && (
                                                        <div className="mt-4 pt-4 border-t border-gray-200">
                                                            <h4 className="font-medium text-gray-800 mb-2">事件详情</h4>
                                                            <p className="text-gray-600 mb-3">{event.description}</p>
                                                            <div className="grid grid-cols-2 gap-4 text-sm">
                                                                <div>
                                                                    <span className="font-medium text-gray-700">创建时间：</span>
                                                                    <span className="text-gray-600">
                                                                        {new Date(event.createdAt).toLocaleString('zh-CN')}
                                                                    </span>
                                                                </div>
                                                                <div>
                                                                    <span className="font-medium text-gray-700">事件ID：</span>
                                                                    <span className="text-gray-600">{event.id}</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    )}
                                                </div>
                                            ))}
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>

                    <footer className="bg-white border-t border-gray-200 mt-12">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                                <div>
                                    <h3 className="text-lg font-semibold text-gray-800 mb-4">关于我们</h3>
                                    <p className="text-gray-600 text-sm">
                                        事件提醒是一款专业的任务管理工具，帮助您高效管理日常事务，提升工作效率。
                                    </p>
                                </div>
                                <div>
                                    <h3 className="text-lg font-semibold text-gray-800 mb-4">帮助中心</h3>
                                    <ul className="space-y-2 text-sm">
                                        <li><a href="#" className="text-gray-600 hover:text-blue-600 transition-colors">使用指南</a></li>
                                        <li><a href="#" className="text-gray-600 hover:text-blue-600 transition-colors">常见问题</a></li>
                                        <li><a href="#" className="text-gray-600 hover:text-blue-600 transition-colors">功能介绍</a></li>
                                    </ul>
                                </div>
                                <div>
                                    <h3 className="text-lg font-semibold text-gray-800 mb-4">联系我们</h3>
                                    <div className="space-y-2 text-sm">
                                        <div className="flex items-center text-gray-600">
                                            <i className="fas fa-envelope mr-2"></i>
                                            support@eventreminder.com
                                        </div>
                                        <div className="flex items-center text-gray-600">
                                            <i className="fas fa-phone mr-2"></i>
                                            400-123-4567
                                        </div>
                                        <div className="flex space-x-4 mt-4">
                                            <a href="#" className="text-gray-400 hover:text-blue-600 transition-colors">
                                                <i className="fab fa-weixin text-lg"></i>
                                            </a>
                                            <a href="#" className="text-gray-400 hover:text-blue-600 transition-colors">
                                                <i className="fab fa-weibo text-lg"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div className="border-t border-gray-200 mt-8 pt-6 text-center">
                                <p className="text-gray-500 text-sm">
                                    © 2024 事件提醒 EventReminder. 保留所有权利.
                                </p>
                            </div>
                        </div>
                    </footer>

                    {isEditModalOpen && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-xl p-6 max-w-md w-full mx-4">
                                <h2 className="text-xl font-semibold text-gray-800 mb-4">编辑事件</h2>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">事件标题</label>
                                        <input
                                            type="text"
                                            value={editingEvent.title}
                                            onChange={(e) => setEditingEvent(prev => ({ ...prev, title: e.target.value }))}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">事件描述</label>
                                        <textarea
                                            value={editingEvent.description}
                                            onChange={(e) => setEditingEvent(prev => ({ ...prev, description: e.target.value }))}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                            rows="3"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">日期</label>
                                        <input
                                            type="date"
                                            value={editingEvent.date}
                                            onChange={(e) => setEditingEvent(prev => ({ ...prev, date: e.target.value }))}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">优先级</label>
                                        <select
                                            value={editingEvent.priority}
                                            onChange={(e) => setEditingEvent(prev => ({ ...prev, priority: e.target.value }))}
                                            className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        >
                                            <option value="high">高优先级</option>
                                            <option value="medium">中优先级</option>
                                            <option value="low">低优先级</option>
                                        </select>
                                    </div>
                                </div>
                                <div className="flex space-x-3 mt-6">
                                    <button
                                        onClick={handleSaveEdit}
                                        className="flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors"
                                    >
                                        保存
                                    </button>
                                    <button
                                        onClick={() => setIsEditModalOpen(false)}
                                        className="flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors"
                                    >
                                        取消
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {isDeleteModalOpen && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-xl p-6 max-w-sm w-full mx-4">
                                <div className="text-center">
                                    <i className="fas fa-exclamation-triangle text-red-500 text-4xl mb-4"></i>
                                    <h2 className="text-xl font-semibold text-gray-800 mb-2">确认删除</h2>
                                    <p className="text-gray-600 mb-6">确定要删除这个事件吗？此操作不可撤销。</p>
                                    <div className="flex space-x-3">
                                        <button
                                            onClick={confirmDelete}
                                            className="flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors"
                                        >
                                            确认删除
                                        </button>
                                        <button
                                            onClick={() => setIsDeleteModalOpen(false)}
                                            className="flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors"
                                        >
                                            取消
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        ReactDOM.render(<EventReminder />, document.getElementById('root'));
    </script>
</body>
</html>